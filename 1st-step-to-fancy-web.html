<!DOCTYPE html>
<html dir="ltr">
  <head>
    <meta charset="UTF-8">
    <meta name="rights-standard" content="pd">

    <title>First Step to Fancy Web</title>

    <link rel="author" href="http://twitter.com/japboy" title="Yu I.">
    <link rel="stylesheet" type="text/css"
     href="http://yui.yahooapis.com/3.3.0/build/cssreset/reset-min.css">
    <link rel="stylesheet" type="text/css"
     href="http://fonts.googleapis.com/css?family=Open+Sans:800">
    <style type="text/css">
      body {
        overflow: hidden;
      }
      h1 {
        margin-top: -380px;
        position: absolute;
        top: 50%;
        z-index: 1;
        width: 100%;
        color: rgb(255,255,255);
        font-family: "Open Sans", sans-serif;
        font-weight: 800;
        font-size: 40px;
        text-align: center;
        text-shadow: 0 0 5px rgb(0,0,0);
      }
      #mycanvas {
        margin-top: -360px;
        margin-left: -640px;
        position: absolute;
        top: 50%;
        left: 50%;
        z-index: 0;
        box-shadow: 0 0 10px rgb(100,100,100);
      }
    </style>

    <script type="text/javascript" charset="UTF-8"
     src="./script/processing-1.3.6.min.js">
    </script>
  </head>

  <body>
    <section>
      <h1>First Step to Fancy Web</h1>

      <script type="application/processing">
        int count = 0;
        String[] messages = new String[5];

        messages[0] = '会社のみんなが';
        messages[1] = '格好良いコトやってる人ばかりなので';
        messages[2] = 'とりあえず Processing.js';
        messages[3] = 'やってみた。';
        messages[4] = '(*ﾟ∀ﾟ)=3';

        void setup() {
          background(0);
          frameRate(15);
          smooth;
          size(1280, 720);
        }

        void draw() {
          fadeOut();
          //println('Hello to debug console!');
        }

        void mouseMoved() {
          stroke(200 + random(55),
                 100,
                 100);
          fill(200 + random(55),
               100,
               100,
               random(255));
          variableEllipse(mouseX, mouseY, pmouseX, pmouseY);
        }

        void mouseDragged() {
          stroke(200 + random(55),
                 200 + random(55),
                 100);
          fill(0);
          variableEllipse(mouseX, mouseY, pmouseX, pmouseY);
        }

        void mousePressed() {
          fill(255);
          textSize(20);
          text(messages[count], 800, 400 + count * 25);

          if (messages.length() - 1 > count) {
            count = count + 1;
          }
          else {
            count = 0;
          }
        }

        void fadeOut() {
          noStroke();
          fill(0, 10);
          rectMode(CORNER);
          rect(0, 0, width, height);
        }

        void variableEllipse(int x, int y, int px, int py) {
          float speed = abs(x - px) + abs(y - py);

          strokeWeight(speed / 100);
          ellipse(x, y, speed, speed);
        }
      </script>
      <canvas id="mycanvas"></canvas>
    </section>
  </body>
</html>
